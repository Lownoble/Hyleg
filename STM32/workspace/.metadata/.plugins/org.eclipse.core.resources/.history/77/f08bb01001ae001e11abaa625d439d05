/*
 * Hyleg.c
 *
 */

#include "Hyleg.h"

float* FK(float theta1,float theta2)
{
	float hip_x = 60 * cos(theta1+theta2);
	float hip_y = -60 * sin(theta1+theta2);

	float knee_x = -250 * sin(theta1);
	float knee_y = -250 * cos(theta1);

	float foot_x = knee_x + 5*hip_x;
	float foot_y = knee_y + 5*hip_y;

	static float position[2];
	position[0] = foot_x; position[1] = foot_y;
	return position;
}

void calVelocity(float q1, float q2, float dq1, float dq2, float* velocity){
	float L = 250;
	velocity[0] = (-L*cos(q1)-L*sin(q1)*cos(q2)-L*cos(q1)*sin(q2))*dq1 + (-L*cos(q1)*sin(q2)-L*sin(q1)*cos(q2))*dq2;
	velocity[1] = ( L*sin(q1)-L*cos(q1)*cos(q2)+L*sin(q1)*sin(q2))*dq1 + ( L*sin(q1)*sin(q2)-L*cos(q1)*cos(q2))*dq2;
}

